@{
    ViewData["Title"] = "Register";
    Layout = "_Layout";
}

<div class="container row reg-panel">

    <div class="col-md-4">
        <div id="center">
            <div>
                <img style="width: 20rem; transition: width 2s" src="~/images/Rccg.png" alt="RCCG Logo">

            </div>

            <h1>Children Church</h1>
            <p>Register your kids for church</p>
        </div>

        <div style="background-color: none; color: white;  margin-top: 18rem">
            <p style="font-style: italic;">Jesus Christ the same yesterday, today, and forever more. Amen</p>
        </div>
    </div>
    <div class="col-xl-8" style="border: 1px;" solid #ccc; padding-top: 1rem; width="xl: 2000px;">
        <form method="post">
            <h2>RCCG GWC Children Church Registration</h2>
            <p><b>Note:</b> You have to set a responsible party (last section) for drop off and pickup</p>
            <hr>
            <h2>Parent details</h2>

            <h5>  @Html.ValidationSummary(false, "", new { @class = "text-danger" })</h5>
            <div class="form-group row" style="margin-top:40px;">

                <div class="col-md-6">
                    <label style="font-size:25px">Parent's first name:</label><br />
                    <input class="form-control tab1 tab1 a inputstl" title="Enter parent name here" type="text" class="form-control" id="inputEmail3" name="FirstName" placeholder="Enter your FirstName" style="width:280px;" required><br />

                    <label style="font-size:25px">Parent's last name:</label><br />
                    <input class="form-control inputstl" type="text" id="tool" class="form-control" id="inputEmail3" name="LastName" placeholder="Enter your LastName" style="width:280px;" required>

                    <label style="font-size:25px">Home address:</label><br />
                    <textarea class="form-control inputstl" rows="3" name="address" placeholder="Enter your home address" required></textarea><br />
                    <label style="font-size:25px">EmailAddress:</label><br />
                    <input class="form-control inputstl" type="email" class="form-control" id="inputEmail3" name="EmailAddress" placeholder=" Enter your EmailAddress" style="width:280px;" required>

                    <input class="form-control inputstl" type="hidden" class="form-control" id="inputEmail3" name="RoleId" value="1" placeholder=" Enter your Role" style="width:280px;" required>

                </div>

                <div class="col-md-6">

                    <label style="font-size:25px">Password:</label><br />
                    <input class="form-control inputstl" type="password" class="form-control" id="inputEmail3" name="Password" placeholder="Enter your Password" style="width:280px;" required>

                    <label style="font-size:25px">PhoneNo:</label><br />
                    <input class="form-control inputstl" type="Number" class="form-control" id="inputEmail3" name="PhoneNo" placeholder="Enter your PhoneNo" style="width:280px;" required><br />

                    <label style="font-size:25px">Member/Visitor:</label><br />
                    <select class="form-control inputstl" id="Member_Visitor" name="Member_Visitor">
                        <option>Member</option>
                        <option>Visitor</option>
                    </select>
                    <br />
                    <label style="font-size:25px">Number of kids to register:</label><br />
                    <select class="form-control inputstl" id="num-of-kids" name="kidnumber">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                        <option>6</option>
                        <option>7</option>
                        <option>8</option>
                        <option>9</option>
                        <option>10</option>
                    </select>
                    <br />
                </div>
            </div>
            <hr>
            <div style="margin-top: 1rem">
                <h1>Children details</h1>
                <p><b>Note:</b> You have to set a responsible party (last section) for drop off and pickup</p>
                <div class="container row reg-input" style="overflow-x: auto; max-height: 400px">

                    <div class="col-md-3 kid-form" id="kid-first-names">
                        <label style="font-size:25px">First name:</label><br />
                        <input class="form-control inputstl" name="ChildrenDetails[0].ChildFirstName" type="text" placeholder="Kid's first name" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32)" required /><br />
                    </div>
                    <div class="col-md-3 kid-form" id="kid-last-names">
                        <label style="font-size:25px">Last name:</label><br />
                        <input class="form-control inputstl" name="ChildrenDetails[0].ChildLastName" type="text" placeholder="Kid's last name" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32)" required /><br />
                    </div>

                    <div class="col-md-3 kid-form" id="kid-dobs">
                        <label style="font-size:25px">D.O.B:</label><br />
                        <input class="form-control inputstl" onchange="getAge1()" id="Calen" name="ChildrenDetails[0].dob" type="date" placeholder="Kid's date of birth" required /><br />
                    </div>
                    <div class="col-md-3 kid-form" id="kid-classes">
                        <label style="font-size:25px">Class:</label><br />
                        <select class="form-control inputstl" id="Class" name="ChildrenDetails[]">
                            <option value="1">Toddler</option>
                            <option value="2">Nannies</option>
                            <option value="3">5-6 years</option>
                            <option value="4">7-8 years</option>
                            <option value="5">9-12 years</option>

                        </select>
                        <br />
                    </div>
                </div>
            </div>
            <hr>
            <div>
                <h2>Responsible Party</h2>
                <p>
                    The responsible party identifies the person who will be in charge of dropping off and
                    picking up the child(ren)
                </p>

                <div class="reg-input">
                    <div class="row">
                        <div class="col-md-6">
                            <select class="form-control inputstl" id="responsible-party" name="PersonType">
                                <option value=0>Same as parent</option>
                                <option value=1>Among registered kids</option>
                                <option value=2>Someone different (e.g. a nanny)</option>
                            </select>
                        </div>
                        <div class="col-md-6" id="resp-a-child" style="display: none;">
                            <select id="resp-kid">
                            </select>
                        </div>
                    </div>
                    <p id="resp-text">Registered parent will be in charge of dropping off and picking up</p>

                    <div id="resp-other" style="display: none;">
                        <div class="row reg-input">
                            <div class="col-md-6">
                                <label style="font-size:25px">First name:</label><br />
                                <input class="form-control inputstl tab1 tab1 a" name="relfn" type="text" placeholder="Enter first name" style="width:280px;" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32)" /><br />

                                <label style="font-size:25px">Last name:</label><br />
                                <input class="form-control inputstl" name="relln" type="text" placeholder="Enter last name" style="width:280px;" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode==32)" /><br />
                            </div>

                            <div class="col-md-6">
                                <label style="font-size:25px">EmailAddress:</label><br />
                                <input class="form-control inputstl" name="relemail" type="email" style="text-transform: lowercase" placeholder="Enter email address" Style="width:280px;" /><br />

                                <label>PhoneNo:</label><br />
                                <input class="form-control inputstl" name="relphoneno" type="number" placeholder="Enter telephone number" Style="width:280px;" /><br />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-bottom: 2rem; margin-top: 2rem;">

                <button class="btn btn-lg btn-success btn-block mt-5" id="submit" style="width:77%; margin-top:5%; margin-left:10%;">Create Account</button>

                <a class="forgot" class="btn btn-link style=" text-decoration:none;  cursor:pointer;" Style="width:40%; height: 30%;" href="~/Login/Login">Login</a>
            </div>
        </form>
    </div>
</div>

<!-- Tooltip JavaScript -->
<script src="jquery/jquery.js" type="text/javascript"></script>
<script src="jquery-ui/jquery-ui.js" type="text/javascript"></script>
<script src="accordion.js" type="text/javascript"></script>

<!-- Tool tips script -->
<link rel="stylesheet" href="jQuery-ui/jQuery-ui.css" />
<link rel="stylesheet" href="jQuery-ui/jQuery-ui.structure" />
<link rel="stylesheet" href="jQuery-ui/jQuery-ui.theme" />

<style>
    .inputstl {
        padding: 9px;
        border: solid 1px #0077B0;
        outline: 0;
        background: -webkit-gradient(linear, left top, left 25, from(#FFFFFF), color-stop(4%, #C6ECFF), to(#FFFFFF));
        background: -moz-linear-gradient(top, #FFFFFF, #C6ECFF 1px, #FFFFFF 25px);
        box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
        -moz-box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
        -webkit-box-shadow: rgba(0,0,0, 0.1) 0px 0px 8px;
    }
</style>
<script src="~/js/script.js"></script>
<script>
        @if (TempData["status"] != null)
        {
            <text>alert("<h2>Thank you for registering, an email with <b> OTP verification code </b> has been sent to your registered email</h2>"); </text>

        }
</script>
<script>
    $("document").ready(function () {
        $("#tool").tooltip{
            track: true,
                show: { effect: "highlight", duration: 2000, delay: 250 }
            hide: { effect: "explode, duration: 2000" }
        })
});
</script>

<script>
    function getAge1() {
        var txtClass = document.getElementById("Calen").value;
        var dob = new Date(txtClass);
        //calculate month difference from current date in time
        var month_diff = Date.now() - dob.getTime();

        //convert the calculated difference in date format
        var age_dt = new Date(month_diff);

        //extract year from date
        var year = age_dt.getUTCFullYear();

        //now calculate the age of the user
        var age = Math.abs(year - 1970);
        if (age <= 1) {
            document.getElementById('Class').value = 1;
        }
        if (age > 1 && age <= 4) {
            document.getElementById('Class').value = 2;
        }

        if (age >= 5 && age <= 6) {
            document.getElementById('Class').value = 3;
        }
        if (age >= 7 && age <= 8) {
            document.getElementById('Class').value = 4;
        }
        if (age >= 9) {
            document.getElementById('Class').value = 5;
        }

        //display the calculated age
        // document.write("Age of the date entered: " + age + " years");
    }
</script>
<script>
    $(document).on('click', '.tab1', function () {
        $('.tab1').css({ 'background-color': 'yellow' });
        $('.tab1 a').css({ 'color': 'green' });
        $(this, '.tab1').css({ 'background-color': 'yellow' });
        $(this, '.tab1 a').css({ 'color': 'green' });
    });
</script>
@*<script type="text/javascript">
        function getAge() {
            var txtClass = document.getElementById("Calen").value;
            const date = new Date(txtClass);
         //   alert(date);
            var diff = Date.now() - date;

            var age = new Date(diff);
            alert(age);
           // var u = Math.abs(age.getUTCFullYear() - 1970);

            return age;
        }
        //alert(getAge(new Date(1995, 12, 6))); //Date(year, month, day)
    </script>*@

@*function calculateAge(birthday) { // birthday is a date
    var birth = new Date(birthday)
    var ageDifMs = Date.now() - birth.getTime();
    var ageDate = new Date(ageDifMs); // miliseconds from epoch
    var age = Math.abs(ageDate.getUTCFullYear() - 1970);

    if (age === 0) {
        return "<1 year";
                   }
                   else if (age= = =1) {
                   return "1 year" ;
                   }
                   else {
                   return age + " " + "years" ;
                   }
                   }*@